<%= form_with model: [@medical_folder, document], class: "space-y-6" do |form| %>
  <%= render Ui::FormErrorsComponent.new(record: document) %>

  <div>
    <%= form.label :title, t('documents.form.title_label'), class: "block text-sm font-medium text-slate-300 mb-2" %>
    <%= form.text_field :title, 
        autofocus: true,
        placeholder: t('documents.form.title_placeholder'),
        class: "w-full px-4 py-3 bg-slate-900/50 border border-slate-600 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all" %>
  </div>

  <div>
    <%= form.label :document_date, t('documents.form.date_label'), class: "block text-sm font-medium text-slate-300 mb-2" %>
    <%= form.date_field :document_date, 
        value: document.document_date || Date.current,
        class: "w-full px-4 py-3 bg-slate-900/50 border border-slate-600 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all" %>
  </div>

  <div>
    <%= form.label :file, t('documents.form.file_label'), class: "block text-sm font-medium text-slate-300 mb-2" %>
    <div class="relative">
      <%= form.file_field :file,
          accept: "application/pdf,image/*",
          direct_upload: true,
          class: "block w-full text-sm text-slate-400
                  file:mr-4 file:py-3 file:px-4
                  file:rounded-xl file:border-0
                  file:text-sm file:font-semibold
                  file:bg-emerald-500/20 file:text-emerald-400
                  hover:file:bg-emerald-500/30
                  file:cursor-pointer cursor-pointer
                  bg-slate-900/50 border border-slate-600 rounded-xl
                  focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all" %>
    </div>
    <p class="mt-2 text-xs text-slate-500"><%= t('documents.form.file_formats') %></p>
    <% if document.file.attached? %>
      <p class="mt-2 text-sm text-emerald-400"><%= t('documents.form.current_file', filename: document.file.filename, size: document.file_size_mb) %></p>
    <% end %>
  </div>

  <div>
    <%= form.label :notes, t('documents.form.notes_label'), class: "block text-sm font-medium text-slate-300 mb-2" %>
    <%= form.text_area :notes,
        rows: 3,
        placeholder: t('documents.form.notes_placeholder'),
        class: "w-full px-4 py-3 bg-slate-900/50 border border-slate-600 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all resize-none" %>
  </div>

  <div class="flex items-center gap-4 pt-4">
    <%= form.submit document.new_record? ? t('documents.form.upload_button') : t('documents.form.update_button'),
        class: "px-6 py-3 bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600 text-white font-semibold rounded-xl shadow-lg shadow-emerald-500/30 transform hover:scale-[1.02] transition-all cursor-pointer" %>
    
    <%= link_to t('documents.form.cancel'), medical_folder_path(@medical_folder),
        class: "px-6 py-3 text-slate-400 hover:text-white font-medium transition-colors" %>
  </div>
<% end %>
