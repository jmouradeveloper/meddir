<%= render "shared/authenticated_layout" do %>
  <%= render Ui::BackLinkComponent.new(href: medical_folder_path(@medical_folder), text: "Back to #{@medical_folder.name}") %>

  <%= render Ui::ListPageHeaderComponent.new(
    title: "Documents in #{@medical_folder.name}",
    subtitle: "#{@documents.count} document#{@documents.count == 1 ? '' : 's'}",
    action_text: "Upload Document",
    action_href: new_medical_folder_document_path(@medical_folder)
  ) %>

  <% if @documents.any? %>
    <div class="space-y-3">
      <% @documents.each do |document| %>
        <%= render Features::DocumentCardComponent.new(document: document, medical_folder: @medical_folder) %>
      <% end %>
    </div>
  <% else %>
    <%= render Ui::EmptyStateComponent.new(
      title: "No documents yet",
      description: "Upload your first document to this folder.",
      icon: :document,
      action_text: "Upload First Document",
      action_href: new_medical_folder_document_path(@medical_folder)
    ) %>
  <% end %>
<% end %>
